# CSRF（Cross-Site Request Forgery，跨站请求伪造）.md

CSRF（Cross-Site Request Forgery，跨站请求伪造）是一种常见的Web应用程序安全漏洞，攻击者利用用户已登录的身份执行未经授权的操作。通过诱使受害者在访问恶意网站或点击恶意链接时，攻击者可以发送伪造的请求来执行攻击。

CSRF攻击基于Web应用程序对用户请求的默认信任，攻击者利用这种信任关系，构造恶意请求并欺骗用户发起。当用户在受信任的网站上进行操作时，攻击者会在背后发起一个伪造的请求，将用户的身份凭证（如Cookie）一同发送到目标网站，以获取受害者的权限执行某些操作，例如修改账户信息、发起资金转账等。

#### 为了避免CSRF攻击，可以采取以下预防措施：

1. 合理使用验证码：在涉及敏感操作的页面上，引入验证码机制，要求用户输入正确的验证码才能执行操作，增加攻击者进行自动化攻击的难度。

2. 验证来源站点：服务器端在处理请求时，验证请求来源是否合法。可以通过检查Referer头部字段或使用同源策略来判断请求是否来自于合法的站点。

3. 添加CSRF令牌：在每个表单提交或敏感操作中，生成一个随机的CSRF令牌，并将其嵌入到请求参数或请求头中。服务器在接收到请求时验证CSRF令牌的有效性，只接受合法的请求。

4. 使用SameSite Cookie属性：将Cookie的SameSite属性设置为Strict或Lax，限制跨站请求携带Cookie，以减少CSRF攻击的风险。

5. 教育用户：提高用户对CSRF攻击的意识，教育用户避免点击可疑链接和访问不可信的网站，以减少受到CSRF攻击的可能性。

总之，CSRF是一种利用Web应用程序对用户请求的默认信任进行攻击的安全漏洞。通过验证来源站点、添加CSRF令牌、使用验证码等预防措施，可以有效减少CSRF攻击的风险。开发者和用户应共同努力，保护Web应用程序的安全性。